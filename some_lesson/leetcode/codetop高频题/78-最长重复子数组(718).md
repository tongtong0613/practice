### 题目

给两个整数数组 `nums1` 和 `nums2` ，返回 两个数组中 `公共的` 、`长度最长的子数组的长度` 。

**示例 1：**

```
输入：nums1 = [1,2,3,2,1], nums2 = [3,2,1,4,7]
输出：3
解释：长度最长的公共子数组是 [3,2,1] 。
```

**示例 2：**

```
输入：nums1 = [0,0,0,0,0], nums2 = [0,0,0,0,0]
输出：5
``` 

**提示：**

- `1 <= nums1.length, nums2.length <= 1000`
- `0 <= nums1[i], nums2[i] <= 100`

### 代码

```python
class Solution:
    def findLength(self, nums1: List[int], nums2: List[int]) -> int:
        m = len(nums1)
        n = len(nums2)
        res = 0
        # 初始化dp数组
        dp = [[0] * (n+1) for _ in range(m+1)]
        for i in range(1, m+1):
            for j in range(1, n+1):
                # 只有两者值相等，以他们两个为结尾的子数组才有公共子数组
                if nums1[i-1] == nums2[j-1]:
                    dp[i][j] = dp[i-1][j-1] + 1
                    res = max(res, dp[i][j])
        return res
```

### 题解

- `dp[i][j]` ：长度为`i`，末尾项为`A[i-1]`的子数组，与长度为`j`，末尾项为`B[j-1]`的子数组，二者的 `最大公共后缀子数组长度`。
- 状态转移：
    - 如果 `A[i-1] != B[j-1]`， 有 `dp[i][j] = 0`,以当前两个数字结尾的子数组无法形成公共子数组
    - 如果 `A[i-1] == B[j-1]` ， 有 `dp[i][j] = dp[i-1][j-1] + 1`

|dp|#|1|2|3|2|1|
|--|--|--|--|--|--|--|
|#|0|0|0|0|0|0|
|3|0|0|0|1|0|0|
|2|0|0|1|0|2|0|
|1|0|1|0|0|0|3|
|4|0|0|0|0|0|0|
|7|0|0|0|0|0|0|